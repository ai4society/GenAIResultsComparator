{
  "system-prompt": "**System Prompt:**\n\nYou are an expert in processing recipe data into structured formats. Your task is to transform freeform recipe text into a JSON structure that captures essential information about the recipe. The final JSON should contain the following fields:\n\n1. **recipe_name**: A string representing the recipe name.\n   \n2. **macronutrients**: An object where each key is a macronutrient type (e.g., \"Calories\", \"Carbohydrates\", etc.). Each macronutrient has the following structure:\n   - `measure`: A number representing the quantity of that macronutrient.\n   - `unit`: A string specifying the unit of the macronutrient.\n\n3. **food_role**: An array that contains one or more of the following categories: \"Main Course\", \"Side Dish\", \"Beverage\", or \"Dessert\". This represents the roles that the recipe can fulfill.\n\n4. **ingredients**: An array of objects. Each object represents an ingredient with:\n   - `name`: The name of the ingredient.\n   - `quantity`: The amount of that ingredient.\n   - `unit`: The unit in which the ingredient is measured.\n\n5. **hasDairy**: A binary field (0 or 1) indicating if the recipe contains dairy.\n   \n6. **hasNuts**: A binary field (0 or 1) indicating if the recipe contains nuts.\n   \n7. **hasMeat**: A binary field (0 or 1) indicating if the recipe contains meat.\n\n8. **prep_time**: A string representing how much time the recipe takes to prepare.\n\n9. **cook_time**: A string representing how much time the recipe takes to cook.\n\n10. **serves**: A number representing how many people the recipe serves.\n\n11. **instructions**: An array of objects. Each object corresponds to a specific step of the recipe and has:\n    - `original_text`: The full text of the original instruction.\n    - `input_condition`: An array of any prerequisite conditions that need to be met before this step can be executed (e.g., \"oven_preheated\").\n    - `tasks`: An array of objects representing atomic actions derived from the instruction, with each task having:\n        - `action_name`: A string describing the action to be performed (e.g., \"preheat the oven\").\n        - `output_quality`: A string describing the expected outcome or condition after the action is performed (e.g., \"Pan should be over medium heat\").\n        - `background_knowledge`: An object containing:\n          - `tool`: An array of strings listing tools required to perform this action (e.g., \"oven\", \"pan\").\n          - `failure`: A string indicating what may go wrong if a condition is not met (e.g., \"oven_was_not_preheated\").\n\n**Your task is to extract the above fields from a recipe text and return them in the following JSON format.** Ensure that you capture all relevant details from the recipe text and break down instructions into atomic tasks as needed.\n\n---\n\n**Abridged Recipes Example Outputs:**\n\n```json\n{\n      recipe_name: cheesy-gordita-crunch-copycat,\n      data_provenance: {\n        source_url: ,\n        last_system_access: \n      },\n      macronutrients: {\n        Calories: {\n          measure: \"456\",\n          unit: kcal\n        }\n      },\n      food_role: [\n        Main Course\n      ],\n      ingredients: [\n        {\n          name: ground beef,\n          quantity: {\n            measure: \"1\",\n            unit: lb\n          },\n          allergies: {\n            id: 0xb74d,\n            category: [\n              meat\n            ],\n            ref: [\n              https://www.healthline.com/nutrition/foods/pork,\n              https://www.healthline.com/health/allergies/most-uncommon-food-allergies#red-meat\n            ],\n            details: \n          },\n          alternative: ,\n          quality_characteristic: ,\n          image: https://example.com/ground_beef_image.jpg\n        }\n      ],\n      hasDairy: true,\n      hasMeat: true,\n      hasNuts: false,\n      prep_time: 10 minutes,\n      cook_time: 20 minutes,\n      serves: 6,\n      instructions: [\n        {\n          original_text: Heat a skillet over medium-high heat. Add olive oil and swirl to coat the pan. Add the ground beef and break apart. Once halfway cooked, stir in the taco seasoning. Remove from heat and place into a bowl.,\n          input_condition: [\n            oven_preheated,\n            have_olive_oil,\n            have_ground_beef,\n            have_chilli_powder,\n            have_cumin,\n            have_smoked_paprika,\n            have_coriander,\n            have_garlic_powder,\n            have_minced_onion,\n            have_sugar\n          ],\n          tasks: [\n            {\n              action_name: Heat skillet,\n              output_quality: [\n                Pan should be over medium-high heat.\n              ],\n              background_knowledge: {\n                tool: [\n                  Skillet\n                ],\n                failure: []\n              }\n            },\n            {\n              action_name: Add olive oil and swirl,\n              output_quality: [\n                Coat the pan evenly.\n              ],\n              background_knowledge: {\n                tool: [\n                  Olive oil\n                ],\n                failure: []\n              }\n            },\n            {\n              action_name: Add ground beef,\n              output_quality: [\n                Break apart the beef.\n              ],\n              background_knowledge: {\n                tool: [],\n                failure: [\n                  Overcooking beef,\n                  Undercooking beef\n                ]\n              }\n            },\n            {\n              action_name: Stir in taco seasoning,\n              output_quality: [\n                Ensure even distribution of seasoning\n              ],\n              background_knowledge: {\n                tool: [],\n                failure: [\n                  Spices not evenly mixed\n                ]\n              }\n            },\n            {\n              action_name: Remove from heat,\n              output_quality: [\n                Beef should be halfway cooked.\n              ],\n              background_knowledge: {\n                tool: [],\n                failure: [\n                  Overcooking beef,\n                  Undercooking beef\n                ]\n              }\n            },\n            {\n              action_name: Place into a bowl,\n              output_quality: [],\n              background_knowledge: {\n                tool: [\n                  Bowl\n                ],\n                failure: []\n              }\n            }\n          ],\n          output_condition: [\n            have_cooked_beef\n          ],\n          modality: {\n            image: [],\n            video:  \n          }\n        }\n    },\n```\n\n--- \n\n**Your goal is to ensure the JSON format follows the described structure and every detail from the recipe is extracted and formatted correctly. Pay special attention to the breakdown of instructions into atomic tasks, and the conditions, tools, and failure states related to each step.**",
  "prompt": "Convert this recipe into R3 format: \n Peekaboo Sugar Eggs By taragl in Cooking Candy 59,067 63 11 Featured Introduction: Peekaboo Sugar Eggs By taragl Follow More by the author: About: Political technologist turned historical researcher, hobby baker, and craft maker. More About taragl \u00bb Traditionally given as Easter gifts, panorama or peekaboo sugar eggs are impressive and inexpensive to make. The primary building material is sugar and most of the specialized equipment can be swapped out for basic home tools. Time is what you'll invest the most in this project -- both for creating the eggs and for drying between steps. Step 1: Ingredients & Equipment Ingredients*: 4 cups of granulated sugar 3/4 cup of powdered sugar 1 egg white Food coloring (gel, paste, or liquid) *This amount will make one six-inch egg, or two three-inch eggs. Materials: Pocket or paring knife Piping bag and tips or sandwich bags and scissors Egg-shaped mold which opens horizontally Note: Meringue powder can be substituted for the egg white. Use one tablespoon of meringue powder to two tablespoons of water; however, be very sparing as you add this mixture. It tends to be wetter than egg white and your sugar egg will take much longer to dry. Step 2: Color the Sugar Moistening and coloring: In a small bowl, mix the egg white with food coloring until the color is evenly distributed and the egg is frothy. Err on the darker side with your dye, because the color will become lighter when mixed with the granulated sugar. Next, pour the egg white/color mixture into all four cups of granulated sugar with 3/4 cup of powdered sugar. Stir until all of the liquid is incorporated evenly. At first, it may seem that there's not enough liquid, but keep stirring and all of the sugar will be damp. The mixture should be moist enough that you can squeeze it into a ball that holds it's shape, but very dry and sandy. Step 3: Create the Egg Shape Mold the egg: Fill your egg mold with the sugar mixture, pressing it down firmly to create a smooth, gap-free shape. I used molds made especially for creating sugar eggs. The 6-inch mold cost $4.00 and the four-inch version was $2.25, but you can create your own molds with dollar-store plastic eggs or other shapes you find. Scrape a straight edge across the top of the mold to even it out. Place a cookie sheet on top of your open mold top and flip it over quickly to release the sugar egg half onto the cookie sheet. It should pop out easily. Dry the egg: The halves can be left to air dry for an hour or two, or bake them at about 200 degrees for 20 minutes. This time can vary depending on the size of your mold and the wetness of the sugar, you're looking for a hard outer crust and a soft, scoop-able center to the egg halves. Step 4: Carve the Egg Hollow the halves: When you take your egg halves out of the oven, you'll have a hard shell on the outside of the egg, but the inside will still be soft sugar. Carefully tap through the sugar crust on the flat side of the eggs and scoop out the soft sugar inside until it's 1/2 to 1/4 inch thick. (Choose the thickness based on the sturdiness of your egg.) This process is similar to hollowing out a pumpkin for carving, just scrape a spoon gently around the interior of the egg. Most of the time, the soft sugar will fall right out. Sometimes, you'll hit a drier spot which will require a little careful whittling with your knife. Carve the window: Using the tip of a small blade (a paring knife or pocket knife), carefully poke out the center of one egg half and carve an oval-shaped hole. This will be the window into the egg's interior. Let your egg dry again in the 200-degree oven for an hour, or on a counter overnight. The egg will become much harder -- like ceramic -- and easier to handle. This makes it much more difficult to carve, so make sure you've finished your shaping first. (If you need to make some major changes after the second drying, a Dremel tool is a handy secret weapon.) Step 5: Decorate and Fuse the Halves Mix the royal icing: Now we'll need a batch of royal icing. Combine one pound of powdered sugar with 1/4 cup of meringue powder (available at craft stores) in a mixing bowl. Add 1/2 cup of warm water a little bit at a time and use a hand or stand mixer to combine. For our purposes, we're looking for a thick royal icing which will maintain shapes and dry quickly. It will hold stiff peaks in the bowl. Decorate the inside of the egg: If you're going to create a scene inside your egg, work on it while your egg is in two pieces. The world is your oyster when it comes to decorating. Colored royal icing can be set into any shape (For more complex shapes, pipe the item onto a practice surface, let it dry, then anchor it into the egg with wet icing). Coconut shreds dyed green look just like grass. Marshmallows snipped with scissors naturally make rabbit ear shapes, and the sticky exposed interior holds pink sugar for ear-like coloring. In my version, I created a hollow egg filled with jelly beans into which I set a printed bunny, so I fused two empty halves. You can also \"glue\" a piece of fabric or felt into the egg for a unique treat box. (Photos of those versions in the final step.) Fuse the egg halves: Using a piping bag or a sandwich bag with the tip snipped off, pipe a generous line of royal icing around the edge of one egg half. Place the second half on top and line them up to match. Icing may squeeze out of the edge. Simply wipe it off with your finger or a paper towel. This seam will be covered, so don't worry about the line. If you don't have a piping bag set, you can use that trusty sandwich bag, or simply buy the fancy tips for a piping set for about a dollar each at a craft store. Set the tip into your snipped bag and you get all of the same patterns for a fraction of the cost. And now it's time for our familiar refrain. Say it with me... \"Let it dry!\" Royal icing will dry very hard if given a little time. We're already starting with a stiff mixture, so you might be ready to move on in just a few minutes. A damp paper towel or plastic wrap on the surface of your royal icing bowl will keep the remaining icing from drying out. Step 6: Decorate the Outside and Fill Cover the seams: Pipe a few practice lines to test which patterns will look good as well as cover the seam around the egg. I used an up-and-over motion for this piping, but stars, dots, and straight lines will work too. Any errors can be wiped off the egg and redone while the icing is wet. Pipe one large line around the main seam and a smaller decorative line around the \"window.\" Decorate the exterior: You now have a basic egg which can be dressed up in many ways. I chose stars with yellow sugar pearls set into them. Use whatever you have around to add color and texture... sanding sugar, dragees, candies, etc. A young child might like their name piped onto the egg, while an adult may enjoy a motif personal to their interests, like music notes. If you did not create a scene inside the egg, you can choose to fill it with treats instead. This version is filled with jelly beans and a printed bunny cutout. Chocolates, jelly beans, pastel M&Ms, or even silk flowers set into dry oasis would work as a gift or centerpiece. I know a certain teenager who wouldn't turn down an iTunes gift card tucked into a homemade sugar egg... Storage: The finished egg does not need refrigeration, but it should be kept dry. Sugar and royal icing don't spoil easily, so wrapped in plastic, the egg should keep indefinitely. I kept a plastic-wrapped sugar egg saved for two decades!. Please provide only json in your response and no backticks or any other text.",
  "response": " {\n  \"pe_name\": \"Peekaboo Sugar Eggs\",\n  Bagnat Recipe\n  By taragl in Cooking Bread 11,944 13 1\n  Introduction:\n  Pan Bagnat is a traditional French sandwich that originated in the Provence region. It is made with a round loaf of bread that is hollowed out and filled with tuna, hard-boiled eggs, anchovies, olives, tomatoes, and a vinaigrette dressing. The sandwich is then pressed and left to sit for several hours to allow the flavors to meld together.\n\n  Step 1: Ingredients & Equipment\n  Ingredients:\n  - 1 round loaf of bread (such as a boule or ciabatta)\n  - 2 cans of tuna (in water or oil)\n  - 4 hard-boiled eggs, sliced\n  - 1 small can of anchovies, drained\n  - 1/2 cup of pitted black olives, sliced\n  - 2 tomatoes, sliced\n  - 1/4 cup of olive oil\n  - 2 tbsp of red wine vinegar\n  - Salt and pepper, to taste\n\n  Equipment:\n  - Knife\n  - Cutting board\n  - Bowl\n  - Fork\n  - Plate\n\n  Step 2: Prepare the Vinaigrette\n  In a bowl, whisk together the olive oil, red wine vinegar, salt, and pepper until well combined.\n\n  Step 3: Prepare the Bread\n  Cut the top off the loaf of bread and hollow out the inside, leaving a 1-inch thick shell. Tear the removed bread into small pieces and set aside.\n\n  Step 4: Assemble the Sandwich\n  Layer the sliced eggs, tuna, anchovies, olives, and tomatoes inside the bread shell. Drizzle the vinaigrette over the top and press down on the filling to compact it.\n\n  Step 5: Press the Sandwich\n  Wrap the sandwich in plastic wrap and place a heavy object (such as a cast iron skillet or a book) on top. Let the sandwich sit for at least 2 hours or overnight to allow the flavors to meld together.\n\n  Step 6: Serve\n  Cut the sandwich into wedges and serve.\n\n  Serves: 4-6\n  Prep Time: 20 minutes\n  Inactive Time: 2 hours\n  }"
}
